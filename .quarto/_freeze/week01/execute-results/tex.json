{
  "hash": "bd8dd00e6c866cf6aa83ebc452003f79",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Classical Linear Regression Model & Ordinary Least Squares\"\n\nformat:\n  html:\n    toc: true\n    toc-depth: 3\n    number-sections: true\n    code-fold: true\n  pdf:\n    toc: true\n    number-sections: true\n    output-file: \"week01.pdf\"\n\nexecute:\n  echo: true     # show code\n  eval: true     # run code\n  warning: true  # show warnings (change to false if you want)\n  message: true  # show messages (change to false if you want)\n  error: true    # IMPORTANT: don't stop rendering if one chunk errors\n---\n\n\n\n\n::: callout-note\n[Download PDF](week01.pdf)\n:::\n\n# Two variable linear regression analysis\n## Readings\n- Stock and Watson (2003), Chapters 4–5\n- Dougherty (2016), Chapter 2\n- Wooldridge (2013), Chapter 2\n\n# Introduction\nEconometrics means economic measurement. Econometricians attempt to quantify\neconomic relationships that are of interest to theory and policy.\n\n\n# Correlation vs Regression\n## Correlation\nIn economics we are interested in the relationship between two or more random\nvariables, for example:\n- Sales and advertising expenditure\n- Personal consumption and disposable income\n- Investment and interest rates\n- Earnings and schooling\nA measure of linear association between two random variables $x$ and $y$\nis the **covariance**, which for a sample of $n$ pairs of observations\n$(x_1, y_1)$, $\\ldots$, $(x_n, y_n)$ is calculated as\n\n$$\n\\operatorname{cov}(x,y)\n=\n\\frac{1}{n-1}\n\\sum_{i=1}^{n}\n(x_i - \\bar{x})(y_i - \\bar{y})\n$$\n\nThe covariance is a measure of **linear** association. It may be approximately\nzero even when there is a strong non-linear (e.g. quadratic) relationship.\n\n# Overview\nIn this handout we will revisit the Classical Linear Regression Model (CLRM) [see @wooldridge2010, chap. 1-2]. The goal of this week's lecture is to:\n1.  understand the model specification;\n2.  it's underlying assumptions;\n3.  and the appropriate interpretation;\n4.  the OLS estimator, using linear algebra;\n5.  the geometry of OLS and partitioned regression result.\n\n# Model Specification\nThe linear population regression model is given by,\n\n$$ \n\\begin{aligned}\n  Y_i =& X_i'\\beta+\\varepsilon_i \\\\\n  =& \\beta_1\\mathbf{1}+\\beta_2X_{i2}+\\beta_3X_{i3}+...+\\beta_kX_{ik}+\\varepsilon_i\n\\end{aligned}\n$$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n1+1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n\n```{.r .cell-code}\nqlfs18 <- haven::read_dta(\"data/qlfs1314_2.dta\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(haven)\n\n# Read the Stata dataset (adjust path if needed)\nqlfs18 <- read_dta(\"data/qlfs1314_2.dta\")\n\n# Show variables so you can verify names during render\nhead(names(qlfs18), 30)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"age\"     \"cameyr\"  \"cry01\"   \"degcls\"  \"edage\"   \"hdpch19\" \"hhtype\" \n [8] \"higho\"   \"hiqual\"  \"hourpay\" \"marsta\"  \"nsecmmj\" \"sc2kmmj\" \"sex\"    \n[15] \"sngdeg\"  \"soc2kmn\" \"ttushr\"  \"uresmc\"  \"nation\"  \"eth01\"   \"relig\"  \n[22] \"hiquala\" \"hiqualv\" \"sctqual\" \"yr\"      \"tenure\"  \"hpay\"    \"lhpay\"  \n[29] \"married\" \"white\"  \n```\n\n\n:::\n\n```{.r .cell-code}\n# Rename if those vars exist\nif (\"HOURPAY\" %in% names(qlfs18)) {\n  qlfs18 <- qlfs18 |> rename(hourpay = HOURPAY)\n}\nif (\"EDAGE\" %in% names(qlfs18)) {\n  qlfs18 <- qlfs18 |> rename(edage = EDAGE)\n}\nif (\"AGE\" %in% names(qlfs18)) {\n  qlfs18 <- qlfs18 |> rename(age = AGE)\n}\n\n# Only plot if hourpay exists\nif (\"hourpay\" %in% names(qlfs18)) {\n  ggplot(qlfs18, aes(x = hourpay)) +\n    geom_histogram(bins = 30)\n} else {\n  cat(\"hourpay not found — check the variable name in the dataset.\\n\")\n}\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in list2(na.rm = na.rm, binwidth = binwidth, bins = bins, orientation = orientation, : object 'ffi_list2' not found\n```\n\n\n:::\n\n```{.r .cell-code}\n# Create log wage if possible\nif (\"hourpay\" %in% names(qlfs18)) {\n  qlfs18 <- qlfs18 |> mutate(lhourpay = log(hourpay))\n  summary(qlfs18$lhourpay)\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n -2.040   2.175   2.526   2.553   2.902   6.880   14658 \n```\n\n\n:::\n:::\n",
    "supporting": [
      "week01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}